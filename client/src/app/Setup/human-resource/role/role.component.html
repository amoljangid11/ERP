<div class="col-md-12 card card-outline-primary" style="height:100%">
  <div *ngIf= "!show">
   <ol class="breadcrumb row ">
   <li class="breadcrumb-item "> <i class="fa  fa-home">Home </i></li>
   <li class="breadcrumb-item ">HR </li>
   <li class="breadcrumb-item ">Roles & Preivileges </li>
   </ol>
 </div>
 <div  *ngIf= "!show" style="overflow: auto;overflow-x: hidden">
  <span style="font-weight:500">Roles & Privileges</span>
  <button type="button" style="float: right;" class="btn btn-outline-primary btn-sm"  (click) = "show = !show">Add</button>
  <br><br>
 <div  class="row">
  <div class="col-md-12">
   <table class="table table-bordered table-striped table-sm">
    <thead class="">
     <tr>
     <th>Action</th>
     <th>Group</th>
     <th>Role Name</th>
     <!-- <th>Role Type</th> -->
     <th>Role Decription</th>
     </tr>
    </thead>
    <tbody>
     <tr *ngFor="let data of roledata;let i=index " >
     <td>
       <i  (click)="edit(data);show=!show;hide=!hide"  title="Edit" class="fa fa-pencil-square-o"></i>&nbsp;&nbsp;
       <i (click)="delete(data,i)" title="Delete" class="fa fa-trash-o"></i>&nbsp;&nbsp;
       <i *ngIf="data.id == editRowId" (click)="update(employee)" title="save" class="fa fa-floppy-o"></i>
     </td>
     <td>{{data.role[0].group}}</td>             
     <td>{{data.role[0].name}}</td>
     <!-- <td>{{data.role[0].type}}</td> -->
     <td>{{data.role[0].description}}</td>
     </tr>
    </tbody>
   </table>
  </div>
 </div>
 </div>
 <form class="form-horizontal" [formGroup]="form">
   <div *ngIf= "show" style="overflow: auto;overflow-x: hidden">
     <ol class="breadcrumb row bg-primary">
       <li class="breadcrumb-item "> <i class="fa  fa-home">Home </i></li>
       <li class="breadcrumb-item ">HR </li>
       <li class="breadcrumb-item ">Roles & Privileges </li>
       <li class="breadcrumb-item active"><i class="fa fa-plus">Add</i></li>
     </ol>
   </div>
   <br>
  <div *ngIf= "show" style="overflow: auto;overflow-x: hidden">
   <div class="row" style="padding-left: 10px;padding-right:10px;">
   <div class="col-md-4">
     <md-select [(ngModel)]="roles.role[0].groups" placeholder="Please Select Group" formControlName="groupsel">
       <md-option>Please Select Group</md-option>
       <md-option *ngFor="let grp of grouprole" [value]="grp.value" (click)="selectGroup(grp);">{{grp.value}}</md-option>
     </md-select>
   </div>
   <div class="col-md-4" *ngIf="showgrptb">
    <md-input-container class="example-full-width">
     <input [(ngModel)]="roles.role[0].groupname" mdInput placeholder="Enter Group Name" formControlName="group" pattern="[a-zA-Z0-9]+([\s][a-zA-Z0-9]+)*" maxlength="50">
     <md-error>Please enter valid group name</md-error>
    </md-input-container><br>
   </div>
   <div class="col-md-4">
    <md-input-container class="example-full-width">
     <input  [(ngModel)]="roles.role[0].name" mdInput placeholder="Role Name" formControlName="rolename" pattern="[a-zA-Z0-9]+([\s][a-zA-Z0-9]+)*" maxlength="50" required>
     <md-error>Please enter valid role name</md-error>
    </md-input-container><br>
   </div>
   <div class="col-md-4">
     <md-input-container class="example-full-width">
     <input mdInput #message maxlength="200" [(ngModel)]="roles.role[0].description"  placeholder="Description" formControlName="dsc">
     <md-hint align="start">{{message.value.length}} characters entered(200 maximum)</md-hint>
     </md-input-container><br>
   </div><br>
 </div>
   
 <div class="" style="padding-left: 10px;padding-right:10px;padding-top: 30px;">
 <label>Privileges</label>&nbsp;<small style="color: red">*</small>
 <p>Note : The add, edit, view and delete privileges are to the grid alone. To remove a certain menu please uncheck the menu item.</p>
 <div class="row" style="margin: 5px 5px 5px 5px">
   <ul>
     <li *ngFor="let prg of privilages">
     <md-checkbox name="grp" [value]="prg.value" (click)="selectPrivilage(prg);">
      {{prg.value}}
     </md-checkbox>
   </li>
 </ul>
 </div>
 </div>
 
 <div style="float:left;padding-top: 20px">
  <button *ngIf="!updatebutton" class="btn btn-outline-success btn-sm" (click)="save(roles);show=!show" [disabled]="!form.valid"> Save</button>
  <button *ngIf="updatebutton"  class="btn btn-outline-success btn-sm" (click)="update(roles);show=!show;updatebutton=!updatebutton" [disabled]="!form.valid"> Update</button>
  <button class="btn btn-outline-danger btn-sm" (click) = "show=!show"> Cancel </button>
 </div>
 </div>
 </form>
 </div>
 
 
 