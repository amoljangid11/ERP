
  <div style="" class="col-md-12">
      <span style="font-weight:500">Working Eligibility</span> <br><br>
    </div>
    <div *ngIf="edited" [ngClass]="messageClass"  style="text-align:center;margin-left:30%;padding: 0.5% 0.5% 0.5% 0.5%;width:40%;float:center">
      {{ message }}
    </div>
    <form class="form-horizontal" [formGroup]="form" *ngIf="service.visible" (click)="add(data)">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-4">
          <br>
          <md-select placeholder="Document Type"  [(ngModel)]="employee.workeligibility[0].type" name="job" formControlName="type">
          <md-option *ngFor="let type of datas;let i=index "  (click)="doctype(type,i)"  [value]="type.workeligibility[0].document_type">
          {{type.workeligibility[0].document_type}}
          </md-option>
          </md-select>
          <br><i style="color: #1565c0" onclick="document.getElementById('work').style.display='block'" >Add Document Type</i>
          
          <br><br>
          <md-input-container class="example-full-width" >
          <input mdInput  placeholder="Issued Authority Name" [(ngModel)]="employee.workeligibility[0].authority" formControlName="auth"  pattern="^(?:[A-Za-z]+)(?:[A-Za-z0-9 _]*)$">
          <md-error>Please enter valid name.</md-error>
          </md-input-container>
          <br><br><br>
          <md-select placeholder="Issued Authority State" [(ngModel)]="employee.workeligibility[0].authoritystate" formControlName="authstate">
          <md-option value="State" *ngFor="let st of statearry ; let i=index " (click)="select1(st.statename)" [value]="st.statename" >
          {{st.statename}}
          </md-option>
          </md-select><br><i style="color: #1565c0" onclick="document.getElementById('stat').style.display='block'">Add State</i><br>
        </div>
        <div class="col-md-4">
          <md-input-container >
          <input mdInput type="date" [(ngModel)]="employee.workeligibility[0].issueddate" placeholder="Document Issued Date" formControlName="issudate">
         
          </md-input-container>
          
          <br><br>
          <md-input-container class="example-full-width" >
          <input mdInput  placeholder="Issued Authority Postal Code" [(ngModel)]="employee.workeligibility[0].postalcode" formControlName="pcode" pattern="[a-zA-Z0-9.]+" minlength="3" maxlength="10" >
          <md-error>Please enter valid postal code.</md-error>
          </md-input-container>
          <br><br><br>
          <md-select placeholder="Issued Authority City" [(ngModel)]="employee.workeligibility[0].authoritycity" formControlName="authcity">
            <md-option *ngFor="let ci of cityarry" [value]="ci.cityname" (click)="select(co.countryal)" >
            {{ci.cityname}}
            </md-option>
            </md-select><br><i style="color: #1565c0" onclick="document.getElementById('cit').style.display='block'">Add City</i>
          <br><br><br>
          
          
        </div>
        <div class="col-md-4">
          <md-input-container>
          <input mdInput type="date" [(ngModel)]="employee.workeligibility[0].expirydate" placeholder="Document Expiry Date" formControlName="expdate1" id="ExpDate">
          
          </md-input-container>
          
          <br><br><br>
          <md-select placeholder="Issued Authority Country" [(ngModel)]="employee.workeligibility[0].authoritycountry" formControlName="authcountry">
          <md-option *ngFor="let co of datas1 "  (click)="select(co.countryal)" [value]="co.countryal" >
          {{co.countryal}}
          </md-option>
          </md-select><br><i style="color: #1565c0" onclick="document.getElementById('count').style.display='block'">Add Country</i><br><br><br>
        </div>
      </div>
    </div>
    <div style="float: right;margin:0% 2% 0% 0%" class="row">
      <div  class="col-md-12">
        <button  class="btn btn-outline-success btn-sm" (click)="save(employee)" [disabled]="!form.valid" > Save</button>
      </div>
    </div>
    </form>
    
    <!-- add document type -->
    <form class="form-horizontal" [formGroup]="form1">
    <div id="work" class="w3-modal w3-animate-opacity">
      <div class="w3-modal-content w3-card-4">
        <header class="w3-container w3-teal bg-primary">
          <span onclick="document.getElementById('work').style.display='none'" style="margin-top: -1%;font-weight: 500"
          class=" w3-display-topright fa fa-times" ></span>
          <h6>Working Eligibility Document Types</h6>
        </header>
        <div class="w3-container">
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-6">
                <md-input-container>
                <input mdInput [(ngModel)]="eligibility.workeligibility[0].document_type"  placeholder="Document Type" formControlName="doctype"  pattern="^(?:[A-Za-z]+)(?:[A-Za-z0-9 _]*)$">
                <md-error>Please enter document type.</md-error>
                </md-input-container><br><br>
                <br><br>
                <md-input-container class="example-full-width">
                <input mdInput #message maxlength="200" [(ngModel)]="eligibility.workeligibility[0].description" placeholder="Description" formControlName="desc">
                <md-hint align="end">{{message.value.length}} Characters entered / 200</md-hint>
                </md-input-container><br><br>
                
              </div>
              <div class="col-md-6">
                <br>
                <md-select  [(ngModel)]="eligibility.workeligibility[0].issuing_authority" placeholder="Issuing Authority" formControlName="issueauth">
                <md-option *ngFor="let issue of auth" [value]="issue.viewValue">
                {{ issue.viewValue }}
                </md-option>
                </md-select><br>
                <span  style="color: red" *ngIf="!eligibility.workeligibility[0].issuing_authority">
                  Please select issuing authority.
                </span>
                <br>
              </div>
            </div>
            
          </div>
        </div>
        <footer class="w3-container w3-teal" style="border-top: 0.5px solid lightgrey">
          <div class="col-sm-12">
            <button style="float: right;" type="submit" class="btn btn-primary btn-sm" (click)="savedocument(eligibility)" [disabled]="!form1.valid" >Save</button>
          </div>
        </footer>
      </div>
    </div>
    </form>
    
    <!-- add country -->
    <form class="form-horizontal" [formGroup]="form2">
    <div id="count" class="w3-modal w3-animate-opacity">
      <div class="w3-modal-content w3-card-4">
        <header class="w3-container w3-teal bg-primary">
          <span onclick="document.getElementById('count').style.display='none'" style="margin-top: -1%;font-weight: 500"
          class=" w3-display-topright fa fa-times" ></span>
          <h6>Country</h6>
        </header>
        <div class="w3-container">
          <div class="col-md-12">
            <div class="row">
              
              <div class="col-md-6">
                <md-input-container >
                <input mdInput  [(ngModel)]="country" placeholder="Country" formControlName="country"  pattern="[a-zA-Z]+([\s][a-zA-Z]+)*" required>
                <md-error>Please enter country name.</md-error>
                </md-input-container>
                <br><br><br><br>
              </div>
              <div class="col-md-6">
                <md-input-container >
                <input mdInput  [(ngModel)]="countrycode" placeholder="Country Code" formControlName="code"  pattern="[0-9.]+" maxlength="9" minlength="2" >
                <md-error>Please enter country code</md-error>
                </md-input-container>
                <br><br><br><br>
              </div>
            </div>
          </div>
        </div>
        
        <footer class="w3-container w3-teal" style="border-top: 0.5px solid lightgrey">
          <div class="col-sm-12">
            <button style="float: right;" type="submit" class="btn btn-primary btn-sm" (click)="savecountry(alert,document)" [disabled]="!form2.valid">Save</button>
          </div>
        </footer>
      </div>
    </div>
    </form>
    
    <!-- add state -->
    <form class="form-horizontal" [formGroup]="form3">
    <div id="stat" class="w3-modal w3-animate-opacity">
      <div class="w3-modal-content w3-card-4">
        <header class="w3-container w3-teal bg-primary">
          <span onclick="document.getElementById('stat').style.display='none'" style="margin-top: -1%;font-weight: 500"
          class=" w3-display-topright fa fa-times" ></span>
          <h6>State</h6>
        </header>
        <div class="w3-container">
          <div class="col-md-12">
            <div class="row">
              
              <div class="col-md-6"><br>
                <md-select placeholder="Country" [(ngModel)]="countryvalue" formControlName="country" required>
                <md-option *ngFor="let country of datas1" [value]="country.countryal" >
                {{country.countryal}}
                </md-option>
                </md-select><br>
                <span  style="color: red" *ngIf="!countryvalue">
                  Please select country.
                </span>
                <br><br><br><br>
              </div>
              <div class="col-md-6">
                <md-input-container >
                <input mdInput  [(ngModel)]="statename" placeholder="State" formControlName="state"  pattern="[a-zA-Z]+([\s][a-zA-Z]+)*">
                <md-error>Please enter state name.</md-error>
                </md-input-container>
                <br><br><br><br>
              </div>
            </div>
          </div>
        </div>
        <footer class="w3-container w3-teal" style="border-top: 0.5px solid lightgrey">
          <div class="col-sm-12">
            <button style="float: right;" type="submit" class="btn btn-primary btn-sm" (click)="savestate(alert,document)" [disabled]="!form3.valid" >Save</button>
          </div>
        </footer>
      </div>
    </div>
    </form>
    
    
    <!-- add City -->
    <form class="form-horizontal" [formGroup]="form4">
    <div id="cit" class="w3-modal w3-animate-opacity">
      <div class="w3-modal-content w3-card-4">
        <header class="w3-container w3-teal bg-primary">
          <span onclick="document.getElementById('cit').style.display='none'" style="margin-top: -1%;font-weight: 500"
          class=" w3-display-topright fa fa-times" ></span>
          <h6>City</h6>
        </header>
        <div class="w3-container">
          <div class="col-md-12">
            <div class="row">
              
              <div class="col-md-6"><br>
                <md-select placeholder="Country" [(ngModel)]="countries" formControlName="country" required>
                <!-- <md-option *ngFor="let country of datas1" [value]="country.countryal" >
                {{country.countryal}}
                </md-option>  -->
                <md-option *ngFor="let count of datas1 "  (click)="selectcountry(count.countryal)" [value]="count.countryal" >
                {{count.countryal}}
                </md-option>
                </md-select><br>
                <span  style="color: red" *ngIf="!countries">
                  Please select country.
                </span>
                <br><br>
                <md-input-container >
                <input mdInput  [(ngModel)]="cityname" placeholder="City" formControlName="city"  pattern="[a-zA-Z]+([\s][a-zA-Z]+)*">
                <md-error>Please enter city name.</md-error>
                </md-input-container>
                <br><br><br><br>
              </div>
              <div class="col-md-6"><br>
                <md-select placeholder="State" [(ngModel)]="statevalue" formControlName="state" required>
                <!-- <md-option *ngFor="let st of datas2" [value]="st.statename" >
                {{st.statename}}
                </md-option>  -->
                <md-option *ngFor="let state of statearry ; let i=index " (click)="selectstate(state.statename)" [value]="state.statename" >
                {{state.statename}}
                </md-option>
                </md-select><br>
                <span  style="color: red" *ngIf="!statevalue">
                  Please select state.
                </span>
                <br><br><br><br>
              </div>
            </div>
          </div>
        </div>
        <footer class="w3-container w3-teal" style="border-top: 0.5px solid lightgrey">
          <div class="col-sm-12">
            <button style="float: right;" type="submit" class="btn btn-primary btn-sm" (click)="savecity()" [disabled]="!form4.valid">Save</button>
          </div>
        </footer>
      </div>
    </div>
    </form>
    <!-- <md2-dialog #work>
    <md2-dialog-title>Working Eligibility Document Types</md2-dialog-title>
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-6">
          <md-input-container >
          <input mdInput  [(ngModel)]="document.type" placeholder="Document Type" required>
          </md-input-container>
          <br><br>
          <md-input-container >
          <input mdInput   #message maxlength="200" [(ngModel)]="document.description" placeholder="Description" >
          <md-hint align="end">{{message.value.length}} characters entered / 200</md-hint>
          </md-input-container>
          
        </div>
        <div class="col-md-6">
          <br>
          <md-select placeholder="Issuing Authority" [(ngModel)]="document.authority" name="job">
          <md-option *ngFor="let data of Authority"   [value]="data.name" required>
          {{data.name}}
          </md-option>
          </md-select>
        </div>
        <div class="col-md-4">
          <br>
          
          
        </div>
      </div>
      
    </div>
    <md2-dialog-footer>
    <button type="submit" class="btn btn-primary" (click)="savedocument(alert,document)" >Save</button>
    </md2-dialog-footer>
    </md2-dialog> -->
  

    <!-- <button type="button" *ngIf="service.invisible" class="btn btn-outline-primary btn-sm" (click) = "viewworkele(data)">Edit</button> -->

    <div class="col-md-12 box" *ngIf="service.invisible" (click)="view(data)" >
        
            <div class="emp-info alter-div">
                Document Type : {{employee.workeligibility[0].type}}
            </div>
            <div class="emp-info alter-div ">
                Document Issue Date : {{employee.workeligibility[0].issueddate}}
            </div><br>
            <div class="emp-info ">
                Document Expiry Date : {{employee.workeligibility[0].expirydate}}
            </div>
            <div class="emp-info ">
                Issuing Authority Name : {{employee.workeligibility[0].authority}}
            </div><br>
            <div class="emp-info alter-div">
                Issuing Authority Country : {{employee.workeligibility[0].authoritycountry}}
            </div>
            <div class="emp-info alter-div">
                Issuing Authority Postal Code : {{employee.workeligibility[0].postalcode}}
            </div>
         
  </div>